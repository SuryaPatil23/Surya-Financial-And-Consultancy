<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Trading Course</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f8f9fa; }
        .checkout-box { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .payment-method { border: 1px solid #ddd; border-radius: 5px; padding: 15px; margin-bottom: 10px; cursor: pointer; }
        .payment-method.active { border: 2px solid #007bff; background: #eef6ff; }
        .payment-details { display: none; margin-top: 15px; }
        .summary { display: none; }
    </style>
</head>

<body class="container my-5">
    <h2 class="text-center mb-4">Course Checkout</h2>

    <div class="checkout-box">
        <h4>3. Select Payment Method</h4>
        <div id="paymentOptions">

            <!-- Card -->
            <div class="payment-method" onclick="selectMethod(this, 'card')">
                <input type="radio" name="payment" value="card"> üí≥ Card
                <div id="cardDetails" class="payment-details">
                    <h5>Enter Card Details</h5>
                    <input id="cardNumber" type="text" class="form-control mb-2" placeholder="Card Number">
                    <input id="cardName" type="text" class="form-control mb-2" placeholder="Card Holder Name">
                    <div class="row">
                        <div class="col"><input id="cardDate" type="month" class="form-control mb-2"></div>
                        <div class="col"><input id="cardCVV" type="text" class="form-control mb-2" placeholder="CVV"></div>
                    </div>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" onclick="showSummary()">Submit</button>
                    </div>
                </div>
            </div>

            <!-- PayPal -->
            <div class="payment-method" onclick="selectMethod(this, 'paypal')">
                <input type="radio" name="payment" value="paypal"> üåç PayPal
                <div id="paypalDetails" class="payment-details">
                    <h5>PayPal Account</h5>
                    <input id="paypalEmail" type="email" class="form-control mb-2" placeholder="Enter your PayPal Email">
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" onclick="showSummary()">Submit</button>
                    </div>
                </div>
            </div>

            <!-- UPI -->
            <div class="payment-method" onclick="selectMethod(this, 'upi')">
                <input type="radio" name="payment" value="upi"> üì± UPI
                <div id="upiDetails" class="payment-details">
                    <h5>UPI Payment</h5>
                    <input id="upiID" type="text" class="form-control mb-2" placeholder="Enter your UPI ID (e.g. name@upi)">
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" onclick="showSummary()">Submit</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="checkout-box mt-3 summary">
        <h4>Order Summary</h4>
        <p id="courseName">Course : </p>
        <p id="coursePrice">Price : </p>
        <p id="Discountprice">Discount price :</p>
        <hr>
        <h5 id="total">Total: </h5>
        <button class="btn btn-success w-100 mt-3">PAY NOW</button>
    </div>

    <script>
        function selectMethod(element, method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            element.querySelector("input").checked = true;

            document.querySelectorAll('.payment-details').forEach(el => el.style.display = 'none');
            document.getElementById(method + "Details").style.display = 'block';
        }

        function showSummary() {
            const method = document.querySelector('.payment-method.active input')?.value;

            if (!method) {
                alert("Please select a payment method!");
                return;
            }

            if (method === "card" && (!document.getElementById("cardNumber").value ||
                !document.getElementById("cardName").value ||
                !document.getElementById("cardDate").value ||
                !document.getElementById("cardCVV").value)) {
                alert("Please fill all card details!");
                return;
            }

            if (method === "paypal" && !document.getElementById("paypalEmail").value) {
                alert("Please enter your PayPal Email!");
                return;
            }

            if (method === "upi" && !document.getElementById("upiID").value) {
                alert("Please enter your UPI ID!");
                return;
            }

            document.querySelector('.summary').style.display = 'block';
        }

        const cvalue = new URLSearchParams(window.location.search);
        const course = cvalue.get('course');
        const Discountprice = cvalue.get('Discountprice')
        const price = cvalue.get('price');
   

        if (course && price && Discountprice) {
            document.getElementById("courseName").textContent = "Course: " + course;
            document.getElementById("coursePrice").textContent = "Price: ‚Çπ" + price;
            document.getElementById("Discountprice").textContent="discount-price : ‚Çπ" + Discountprice;

                const total = Number(price) - Number(Discountprice);
            document.getElementById("total").textContent = "Total: ‚Çπ" + total;
        }
    </script>
</body>
</html>
